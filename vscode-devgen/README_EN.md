# vscode-devgen

[![VS Marketplace](https://img.shields.io/visual-studio-marketplace/v/tlipoca9.devgen)](https://marketplace.visualstudio.com/items?itemName=tlipoca9.devgen)

VSCode extension providing editor support for devgen annotations: syntax highlighting, auto-completion, parameter validation, and diagnostics.

## Features

- **Syntax Highlighting** - Color coding for annotation keywords, parameters, and tool names
- **Smart Completion** - Auto-completion for tool names, annotation names, and enum parameters
- **Parameter Validation** - Real-time detection of invalid parameters, missing parameters, and unknown annotations
- **Diagnostics** - Detection of missing generated files, field annotations without type annotations, etc.
- **Hover Documentation** - Hover to view annotation documentation and available options

## Installation

Install from [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=tlipoca9.devgen).

Or search for `devgen` in VSCode.

## Configuration

| Setting | Type | Default | Description |
|---------|------|---------|-------------|
| `devgen.enableDiagnostics` | boolean | `true` | Enable/disable diagnostics |

## Supported Tools

The extension automatically recognizes supported tools and annotations by reading `devgen.toml` configuration files. Currently supports:

### enumgen

Type-level annotations:
- `@enum(options...)` - Generate enum helper methods

Field-level annotations:
- `@name(value)` - Custom enum value name

### validategen

Type-level annotations:
- `@validate` - Generate Validate() method

Field-level annotations:
- `@required` - Required validation
- `@min(n)` / `@max(n)` / `@len(n)` - Length/value range
- `@gt(n)` / `@gte(n)` / `@lt(n)` / `@lte(n)` - Numeric comparison
- `@eq(v)` / `@ne(v)` - Equality/inequality
- `@oneof(a, b, c)` - Enum values
- `@email` / `@url` / `@uuid` / `@ip` / `@ipv4` / `@ipv6` - Format validation
- `@alpha` / `@alphanum` / `@numeric` - Character types
- `@contains(s)` / `@excludes(s)` / `@startswith(s)` / `@endswith(s)` - String matching
- `@regex(pattern)` - Regex matching
- `@format(json|yaml|toml|csv)` - Data format validation
- `@method(MethodName)` - Call custom method

## Usage Example

```go
// enumgen:@enum(string, json, sql)
type Status int

const (
    StatusPending Status = iota + 1
    StatusActive
    // enumgen:@name(Cancelled)
    StatusCanceled
)

// validategen:@validate
type User struct {
    // validategen:@required
    // validategen:@min(2)
    // validategen:@max(50)
    Name string

    // validategen:@required
    // validategen:@email
    Email string

    // validategen:@gte(0)
    // validategen:@lte(150)
    Age int
}
```

## How It Works

The extension configuration comes from `tools-config.json`, which is automatically generated by the `vscgen` tool from each generator's `devgen.toml` file.

See [vscgen README](../cmd/vscgen/README_EN.md) for details on the configuration generation mechanism.

## Development

```bash
# Install dependencies
npm install

# Compile
npm run compile

# Package
npm run package

# Install locally
npm run install-local
```

## License

MIT
