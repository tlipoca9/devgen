# v0.3.1 Release Notes

## æ–°åŠŸèƒ½

### 1. æµ‹è¯•æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ (`--include-tests`)

æ–°å¢ `--include-tests` å‘½ä»¤è¡Œæ ‡å¿—ï¼Œè®© devgen åœ¨ç”Ÿæˆä»£ç çš„åŒæ—¶è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„æµ‹è¯•æ–‡ä»¶ã€‚

```bash
devgen --include-tests ./...
```

**genkit æ¡†æ¶å˜æ›´ï¼š**
- `Options` æ–°å¢ `IncludeTests` å­—æ®µ
- `Generator` æ–°å¢ `IncludeTests()` æ–¹æ³•ï¼Œä¾›å·¥å…·æŸ¥è¯¢æ˜¯å¦éœ€è¦ç”Ÿæˆæµ‹è¯•æ–‡ä»¶

**enumgen ç”Ÿæˆçš„æµ‹è¯•æ–‡ä»¶ (`*_enum_test.go`)ï¼š**
- `Test<Type>_IsValid` - æµ‹è¯•æ‰€æœ‰æšä¸¾å€¼çš„æœ‰æ•ˆæ€§
- `Test<Type>_String` - æµ‹è¯• String() æ–¹æ³•ï¼ˆå¦‚å¯ç”¨ï¼‰
- `Test<Type>Enums_List` - éªŒè¯ List() è¿”å›çš„æšä¸¾å€¼åˆ—è¡¨
- `Test<Type>Enums_Names` - éªŒè¯ Names() è¿”å›çš„åç§°åˆ—è¡¨
- `Test<Type>Enums_Name` - æµ‹è¯• Name() æ–¹æ³•
- `Test<Type>Enums_ContainsName` - æµ‹è¯• ContainsName() æ–¹æ³•
- JSON/Text/SQL åºåˆ—åŒ–æµ‹è¯•ï¼ˆå¦‚å¯ç”¨å¯¹åº”é€‰é¡¹ï¼‰

**validategen ç”Ÿæˆçš„æµ‹è¯•æ–‡ä»¶ (`*_validate_test.go`)ï¼š**
- ä¸ºæ¯ä¸ªéªŒè¯ç±»å‹ç”Ÿæˆè¡¨é©±åŠ¨æµ‹è¯•
- è‡ªåŠ¨ç”Ÿæˆæœ‰æ•ˆå’Œæ— æ•ˆçš„æµ‹è¯•ç”¨ä¾‹
- æ”¯æŒ `@required`ã€`@gt`ã€`@lt`ã€`@gte`ã€`@lte`ã€`@email`ã€`@url` ç­‰è§„åˆ™çš„æµ‹è¯•

**validategen å†…éƒ¨é‡æ„ï¼š**
- å°† `Validate()` æ–¹æ³•æ‹†åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š
  - `_validate()` - å­—æ®µçº§éªŒè¯ï¼ˆä¸å« `@method`ï¼‰
  - `_validateMethod()` - ä»… `@method` éªŒè¯
  - `Validate()` - ç»„åˆè°ƒç”¨ä¸Šè¿°æ–¹æ³• + `postValidate()`
- è¿™ç§æ‹†åˆ†ä¾¿äºå•ç‹¬æµ‹è¯•å­—æ®µéªŒè¯é€»è¾‘ï¼Œæ— éœ€æ„é€ åµŒå¥—ç±»å‹

### 2. VSCode æ‰©å±• AI Rules ç”Ÿæˆæç¤º

å½“åœ¨ AI IDEï¼ˆå¦‚ CodeBuddyï¼‰ä¸­æ‰“å¼€ Go é¡¹ç›®æ—¶ï¼Œæ‰©å±•ä¼šè¯¢é—®æ˜¯å¦ç”Ÿæˆ `.codebuddy/rules/` æ–‡ä»¶ï¼š

- **ç”Ÿæˆ** - æœ¬æ¬¡ç”Ÿæˆ
- **å§‹ç»ˆç”Ÿæˆ** - ä¿å­˜åˆ°å·¥ä½œåŒºè®¾ç½®ï¼Œä»¥åè‡ªåŠ¨ç”Ÿæˆ
- **ä¸å†æç¤º** - ä¿å­˜åˆ°å·¥ä½œåŒºè®¾ç½®ï¼Œä¸å†è¯¢é—®

é…ç½®é¡¹ï¼š`devgen.rules.autoGenerate`ï¼ˆå¯é€‰å€¼ï¼š`ask`ã€`always`ã€`never`ï¼‰

### 3. Duration éªŒè¯ä»£ç å¯è¯»æ€§æ”¹è¿›

validategen ç”Ÿæˆçš„ duration æ¯”è¾ƒä»£ç ç°åœ¨ä½¿ç”¨ `time.Duration` å¸¸é‡ï¼Œæ›´æ˜“è¯»ï¼š

```go
// ä¹‹å‰
if d < 1000000000 { // 1s
    return errors.New("...")
}

// ç°åœ¨
if d < 1*time.Second {
    return errors.New("...")
}
```

## æ”¹è¿›

### Makefile å˜æ›´

- æ–°å¢ `generate` targetï¼Œè¿è¡Œ `go run ./cmd/devgen --include-tests ./...`
- `all` target ç°åœ¨åŒ…å« `generate` æ­¥éª¤ï¼š`tidy â†’ generate â†’ lint â†’ test â†’ build`
- `test` target æ·»åŠ  `--keep-going` å‚æ•°ï¼Œæµ‹è¯•å¤±è´¥æ—¶ç»§ç»­è¿è¡Œå…¶ä»–æµ‹è¯•

### æ’ä»¶åŠ è½½æ—¥å¿—ä¼˜åŒ–

```
# ä¹‹å‰
Loaded plugin: markgen

# ç°åœ¨
ğŸ“‚  [LOAD] Loaded 1 plugin(s)
           â€¢ 'markgen'
```
