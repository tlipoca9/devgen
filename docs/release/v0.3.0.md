# Release v0.3.0

**发布日期**: 2025-12-08

## 概述

v0.3.0 是一个重要的功能版本，新增了 AI Rules 系统，让 AI 编程助手（如 CodeBuddy、Cursor 等）能够理解 devgen 工具的使用方式，提供更准确的代码建议。

## 新特性

### AI Rules 系统

新增 `devgen rules` 命令，用于生成 AI 编程助手可以理解的规则文件。

**列出支持的 AI Agents：**
```bash
devgen rules --list-agents
```

**预览 Rules 内容：**
```bash
devgen rules --agent codebuddy
```

**生成 Rules 文件：**
```bash
devgen rules --agent codebuddy -w
```

生成的规则文件位于 `.codebuddy/rules/` 目录，包含：
- `enumgen.md` - 枚举代码生成工具使用指南
- `validategen.md` - 结构体验证代码生成工具使用指南
- `devgen.md` - devgen 综合使用指南
- `devgen-plugin.md` - 插件开发指南
- `devgen-genkit.md` - genkit API 参考
- `devgen-rules.md` - AI Rules 系统说明

### RuleTool 接口

插件开发者可以实现 `RuleTool` 接口为自定义插件提供 AI Rules：

```go
type RuleTool interface {
    Tool
    Rules() []Rule
}

type Rule struct {
    Name        string   // 规则文件名（不含扩展名）
    Description string   // 简短描述
    Globs       []string // 文件匹配模式
    AlwaysApply bool     // 是否始终加载
    Content     string   // 规则内容（Markdown）
}
```

### VSCode 插件增强

- 新增 `devgen.generateRules` 命令，可在 IDE 中直接生成 AI Rules
- 支持自动检测当前工作区并生成对应的规则文件

## 改进

### Logger 增强

- 新增 `Logger.Warnf()` 方法用于输出警告信息
- 新增 `Logger.Debugf()` 方法用于输出调试信息
- 日志输出格式优化，支持颜色高亮

## 升级指南

### 从 v0.2.x 升级

直接升级即可，无破坏性变更：

```bash
go install github.com/tlipoca9/devgen/cmd/devgen@v0.3.0
```

### 生成 AI Rules

升级后，运行以下命令生成 AI Rules：

```bash
devgen rules --agent codebuddy -w
```

然后将生成的 `.codebuddy/rules/` 目录提交到版本控制，让团队成员都能享受 AI 辅助编程的便利。
