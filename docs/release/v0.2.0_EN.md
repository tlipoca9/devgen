# Release v0.2.0

**Release Date**: 2025-12-07

## Overview

v0.2.0 is a major update introducing a plugin system that allows users to develop custom code generation tools using the genkit framework. The vscgen tool has been removed, and the VSCode extension now dynamically retrieves configuration via `devgen config --json`.

## New Features

### Plugin System

Added complete plugin system supporting two plugin types:

| Type | Description | Use Case |
|------|-------------|----------|
| `source` | Go source code, compiled at runtime | Recommended, convenient for development |
| `plugin` | Pre-compiled Go plugin (.so) | Scenarios requiring maximum performance |

**Configuration Example** (`devgen.toml`):

```toml
[[plugins]]
name = "markgen"
path = "./plugin-source"
type = "source"
```

See [Plugin Development Guide](../plugin_EN.md) and [Examples](../../examples/plugin/).

### ConfigurableTool Interface

Tools can implement the `ConfigurableTool` interface for self-describing configuration:

```go
type ConfigurableTool interface {
    Tool
    Config() ToolConfig
}
```

The VSCode extension automatically retrieves annotation metadata via `devgen config --json`, eliminating the need for manual configuration files.

### devgen config Command

Added `devgen config` command to output configuration for all tools (built-in + plugins):

```bash
devgen config --json    # JSON format output
devgen config           # TOML format output
```

### genkit Improvements

- Added `genkit/config.go`: Provides `ToolConfig`, `AnnotationConfig` and other configuration structures
- Added `genkit/plugin.go`: Plugin loading and management logic
- Auto-infer `paramType`: When annotation config has `Values` but no explicit `Type`, automatically infer as `"enum"` type

### enumgen & validategen

Built-in tools now implement `ConfigurableTool` interface, automatically exposing annotation configuration:

- `enumgen`: Exposes `@enum`, `@name` annotation configuration
- `validategen`: Exposes all 27 validation annotation configurations

### vscode-devgen Improvements

- Added `config-loader.ts`: Dynamic configuration loader
- Added `devgen.executablePath` configuration option for custom devgen executable path
- Configuration is now obtained entirely through `devgen config --json`, removed dependency on `tools-config.json`
- Removed external dependency `smol-toml` to avoid packaging issues
- Removed auto-show output channel on extension activation

## Removed

### vscgen Tool

Removed `cmd/vscgen` tool, manual VSCode configuration file generation is no longer needed.

### Built-in devgen.toml

Removed `cmd/enumgen/devgen.toml` and `cmd/validategen/devgen.toml`, configuration is now automatically provided through the `ConfigurableTool` interface.

## Documentation

- Added [Plugin Development Guide](../plugin_EN.md) (Chinese and English)
- Added [Plugin Examples](../../examples/plugin/) (including both source and plugin types)
- Synced all English README files with Chinese versions
- enumgen/validategen README_EN.md: added complete benchmark sections
- vscode-devgen README: updated how it works and notes sections

## Upgrade Guide

### Upgrading from v0.1.x

1. **Reinstall devgen**:
   ```bash
   go install github.com/tlipoca9/devgen/cmd/devgen@v0.2.0
   ```

2. **VSCode Extension**: Update to the latest version, the extension will automatically retrieve configuration via CLI

3. **Custom Tools**: If you have custom code generation tools, you can implement the `ConfigurableTool` interface to integrate with the VSCode extension
